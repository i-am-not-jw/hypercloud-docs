= [테라폼 클레임] 메뉴
:toc:
:toc-title:

*[테라폼 클레임]* 메뉴는 클라우드 인프라 자동화 도구인 테라폼을 관리할 수 있는 메뉴이다. +

본 장에서는 해당 메뉴의 화면 구성과 기능에 대해서 설명한다.

== 테라폼 클레임

"멀티 클러스터" 콘솔 메뉴에서 *[테라폼 클레임]* 메뉴를 선택하면 *테라폼 클레임* 메인 화면으로 이동한다. +
*테라폼 클레임* 메인 화면에서는 테라폼을 사용하기 위한 요구 사항을 정의하는 ``테라폼 클레임``을 관리(생성, 수정, 삭제) 및 조회할 수 있다.

//[caption="그림. "] //캡션 제목 변경
[#img-cluster-main]
image::../images/figure_admin_terraform_claim_main.png[]

각 영역에 대한 설명은 다음과 같다.

<1> *네임스페이스 선택* +
테라폼 클레임을 생성하거나 테라폼 클레임 목록을 조회할 네임스페이스를 선택한다.

<2> *생성 버튼* +
새로운 테라폼 클레임을 폼 에디터 또는 YAML 에디터를 사용해 생성한다.

<3> *검색 조건 (레이블, 이름)* +
테라폼 클레임의 이름 및 레이블 정보를 입력해서 검색한다. +
우선 검색 조건으로 "이름" 또는 "레이블"을 선택한 후 입력란에 검색어를 입력한다.

<4> *테라폼 클레임 목록* +
네임스페이스에 생성된 테라폼 클레임의 목록을 확인할 수 있다. +
다음은 각 항목에 대한 설명이다.
+
[width="100%",options="header", cols="1,3a"]
|====================
|항목|설명  
|이름|테라폼 클레임의 이름이다. 이때 이름을 클릭하면 해당 테라폼 클레임의 상세 정보를 확인할 수 있는 화면이 열린다.
|네임스페이스|테라폼 클레임이 생성된 네임스페이스의 이름이다. 이때 이름을 클릭하면 해당 네임스페이스의 상세 정보를 확인할 수 있는 화면이 열린다.
|Git URL|인프라를 정의하는 HCL 코드가 존재하는 Git 저장소의 주소이다. 
|상태|테라폼 클레임의 현재 상태 정보이다.

* Awaiting : 클레임에 대한 승인을 기다리는 상태
* Approved : 클레임이 승인되어 Planned 및 Applied가 가능한 상태
* Rejected : 클레임의 승인이 거절된 상태
* Planned : Git에 저장된 HCL 코드를 참고하여 배포할 인프라 스펙을 정의한 상태
* Applied : 계획한 인프라 스펙 그대로 테라폼을 실행하여 배포한 상태
* Destroyed : 배포한 테라폼 리소스를 제거한 상태
* Failed : 테라폼 클레임 생성 또는 배포 중 에러가 발생한 상태
|사용자 이름|테라폼 클레임을 생성한 사용자 계정의 이름이다.
|생성 시간|테라폼 클레임이 생성된 시간이다.
|image:../images/figure_action_icon.png[]|테라폼 클레임의 관리를 위한 메뉴를 사용할 수 있다. +
이때 제공하는 메뉴는 다음과 같다.

* 레이블 수정 : 리소스의 식별을 위한 레이블을 추가, 삭제
* 주석 수정 : 리소스를 외부에서 참조하여 사용하기 위한 주석을 추가, 수정, 삭제
* 테라폼 클레임 수정 : 테라폼 클레임의 구성 정보를 수정
* 테라폼 클레임 삭제 : 테라폼 클레임을 삭제
* 승인 처리 : 테라폼 클레임 생성 시 활성화, 사용할 테라폼 클레임을 승인 또는 거부
* 테라폼 플랜 : 테라폼 클레임 생성 후 승인 처리 시 활성화, 테라폼 클레임에 설정한 git 안 tf 파일을 불러와 생성할 테라폼 구성을 확인
* 테라폼 적용 : 테라폼 클레임 생성 후 승인 처리 시 활성화, 테라폼 클레임에 설정한 git 안 tf 파일을 사용하여 테라폼 구성
* 테라폼 제거 : 해당 테라폼 클레임으로 생성된 테라폼을 삭제
|====================
+
[NOTE]
====
테라폼 클레임 상세 화면의 *[로그]* 탭에서 다음의 정보를 확인할 수 있다.

* 계획한 인프라 스펙
* 적용된 테라폼 로그
* 제거된 테라폼 로그
====
